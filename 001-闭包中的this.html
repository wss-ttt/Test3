<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    var color = "red";

    function fn() {
      return this.color;
    }
    var obj = {
      color: "yellow",
      fn: function () {
        return function () { //返回匿名函数
          return this.color;
        }
      }
    }
    console.log(fn()); //red  在外部直接调用this为window
    var b = obj.fn(); //b为window下的变量,获得的值为obj对象下的fn方法返回的匿名函数
    console.log(b()); //red  因为是在window环境下运行，所以this指缶的是window

    //可以通过call或apply改变函数内的this指向
    console.log(b.call(obj)); //yellow
    console.log(b.apply(obj)); //yellow
    console.log(fn.call(obj)); //yellow
  </script>
</body>

</html>